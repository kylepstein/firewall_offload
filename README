Introduction
Application to communicate with firewall via grpc, and do HW offload on Nvidia
BlueField DPU

Prerequisite
1. Create 2 VFs for each PF on x86 side
2. An option configure file can be added to /opt/mellanox/nv_opof/nv_opof.conf
with json format. For example:

{
  "grpc_addr":"169.254.33.51"
  "grpc_port":3443
}

Usage

1. Build
$ export PKG_CONFIG_PATH=/opt/mellanox/dpdk/lib/aarch64-linux-gnu/pkgconfig/
$ make

2. Setup hugepages
$ mkdir -p /dev/hugepages
$ mountpoint -q /dev/hugepages || mount -t hugetlbfs nodev /dev/hugepages
$ echo 2048 > /sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages

4. Run app
$ env LD_LIBRARY_PATH=/opt/mellanox/dpdk/lib/aarch64-linux-gnu/ ./build/nv_opof -n 1 -a 0000:03:00.0,representor=[0] -a 0000:03:00.1,representor=[0]
